# pytest

## Описание
`pytest` - популярный фреймворк для тестирования Python, который упрощает написание и выполнение тестов, поддерживая как простые, так и сложные функциональные тесты. Его возможности делают его полезным для отладки через тестирование.

## Основные возможности
- Автоматическое обнаружение тестов в файлах, названных `test_*.py` или `*_test.py`.
- Поддержка детального анализа утверждений для лучших сообщений об ошибках.
- Управление исключениями с помощью `pytest.raises`.
- Группировка тестов в классы для организации и обмена фикстурами.
- Встроенные фикстуры, такие как `tmp_path` для временных директорий.
- Параметризация фикстур и функций тестов.
- Поддержка пропуска и ожидания сбоев тестов.
- Многочисленные плагины для расширения функциональности.

## Установка
Требуется Python 3.8+ или PyPy3. Установка с помощью `pip install -U pytest`. Проверит версию можно с помощью `pytest --version`.

## Основное использование
Запуск тестов происходит с помощью команды `pytest`. В файлах, начинающихся с `test_`, или заканчивающихся на `_test.py`, фреймворк ищет функции, начинающиеся с `test_`, и запускает их как тесты. 

В файлах `conftest.py` можно указать фикстуры, которые будут применены при запуске тестов.

## Пример
```python
# test_sample.py
def func(x):
    return x + 1

def test_answer():
    assert func(3) == 5
```
При выполнении `pytest -q test_sample.py` будет показано, что тест не пройден, так как `func(3)` возвращает 4, а не 5.

## Плюсы
- Детальный анализ утверждений для облегчения отладки.
- Легкое обнаружение и организация тестов.
- Поддержка группировки тестов в классы.
- Встроенные фикстуры для функционального тестирования.
- Режим тихого вывода для краткого отчета.

## Минусы
- Атрибуты класса общаются между тестами, что может привести к проблемам изоляции, если не обращаться внимательно.

## Ссылки
- [Официальная документация pytest](https://docs.pytest.org/en/stable/)