# Отладка и профилирование программ на Python

## Содержание практики

1. Изучить: основные методы отладки программ на языке Python, включая использование встроенных и сторонних инструментов, и подходы к выявлению ошибок в коде.
2. Ознакомиться: с библиотеками для анализа работы кода и современными инструментами отладки, такими как интегрированные среды разработки (IDE) с поддержкой дебаггинга, и их функционалом для упрощения процесса.
3. Практически выполнить: подготовить примеры программ, которые нужно проанализировать, и отладить их с целью научиться пользоваться инструментами отладки кода. 


## 1. Изучение

Текст и скриншоты.

## 2. Ознакомление

Разделим инструменты на три категории: отладчики, профилировщики, линтеры. \
Кроме них также стоит упомянуть: **PyPy**, **Cython**, **Jython**, интеграции с **C/Rust/Fortran** 

### Отладчики

Кто такие отладчики?

- [pdb (Python Debugger)](./debuggers/pdb.md)
- [print и logging](./debuggers/print-logging.md)
- [Pycharm](./debuggers/pycharm.md)
- [VS Code](./debuggers/vscode.md)
- [IPython](./debuggers/ipython.md)
- [Jupyter Notebook](./debuggers/jupyter-notebook.md)
- [Eclipse с PyDev](./debuggers/eclipse-pydev.md)
- [pytest](./debuggers/pytest.md)
- [unittest](./debuggers/unittest.md)

## Сравнение отладчиков

| Инструмент   | Тип          | Установка            | Основное использование             | Преимущества                  | Ограничения                                    |
|--------------|--------------|----------------------|------------------------------------|-------------------------------|------------------------------------------------|
| **pdb**      | Отладчик     | Встроен              | `breakpoint()` или `python -m pdb` | Простота, постмортем отладка  | Ограниченная документация, неудобный интерфейс |
| **print**    | Вывод        | Встроен              | `print()`                          | Простота, быстрота            | Не структурирован, загромождает вывод          |
| **logging**  | Логирование  | Встроен              | `logging.basicConfig()`            | Структурированность, гибкость | Сложная настройка, дублирование сообщений      |
| **pytest**   | Тестирование | `pip install pytest` | `pytest`                           | Детальный анализ, плагины     | Проблемы изоляции тестов                       |
| **unittest** | Тестирование | Встроен              | `unittest.main()`                  | Автоматизация, фикстуры       | Сложность параллелизации                       |

### Профилировщики

Что такое профилирование и кто такие профилировщики?

- [cProfile](./profilers/cProfile.md)
- [timeit](./profilers/timeit.md)
- [line_profiler](./profilers/line_profiler.md)
- [memory_profiler](./profilers/memory_profiler.md)
- [py-spy](./profilers/py-spy.md)
- [pyheat](./profilers/pyheat.md)

#### Сравнение профилировщиков

| Инструмент          | Тип профилирования | Установка     | Основное использование      | Преимущества                      | Ограничения                        |
|---------------------|--------------------|---------------|-----------------------------|-----------------------------------|------------------------------------|
| **cProfile**        | Детерминированное  | Встроен       | `python -m cProfile`        | Высокая точность, низкий расход   | Только функции, сложный вывод      |
| **timeit**          | Бенчмаркинг        | Встроен       | `timeit.timeit()`           | Простота, точность для фрагментов | Не для больших программ            |
| **line_profiler**   | Построчное         | `pip install` | `kernprof -l`               | Детальный анализ строк            | Требует настройки, выше расход     |
| **memory_profiler** | Память             | `pip install` | `python -m memory_profiler` | Выявление утечек памяти           | Замедляет выполнение               |
| **py-spy**          | Статистическое     | `pip install` | `py-spy top --pid`          | Низкий расход, продакшен          | Может пропустить редкие события    |
| **pyheat**          | Визуализация       | GitHub        | `pyheat <file>`             | Интуитивная тепловая карта        | Менее поддерживаем, ограничен      |

### Линтеры

Кто такие линтеры?

- [pylint](./linters/pylint.md)
- [flake8](./linters/flake8.md)
- [ruff](./linters/ruff.md)
- [mypy](./linters/mypy.md)

#### Сравнение линтеров

| Инструмент | Тип анализа              | Установка     | Основное использование   | Преимущества                               | Ограничения                    |
|------------|--------------------------|---------------|--------------------------|--------------------------------------------|--------------------------------|
| **pylint** | Статический анализ       | `pip install` | `pylint myscript.py`     | Глубокий анализ, плагины                   | Медленный, ложные срабатывания |
| **flake8** | Стиль и логика           | `pip install` | `flake8 myscript.py`     | Быстрый, гибкий, плагины                   | Менее глубокий анализ          |
| **ruff**   | Линтинг и форматирование | `pip install` | `ruff check myscript.py` | Очень быстрый, заменяет многие инструменты | Новый, меньше плагинов         |
| **mypy**   | Проверка типов           | `pip install` | `mypy myscript.py`       | Выявляет ошибки типов, gradual typing      | Требует аннотаций типов        |


### Остальное

Кто такие и почему?

- [PyPy](./other/pypy.md)
- [Cython](./other/cython.md)
- [Jython](./other/jython.md)
- Интеграции с [C](./other/c.md), [Rust](./other/rust.md), [Fortran](./other/fortran.md)

#### Сравнение инструментов

| Инструмент             | Тип             | Установка       | Основное использование   | Преимущества                            | Ограничения                              |
|------------------------|-----------------|-----------------|--------------------------|-----------------------------------------|------------------------------------------|
| **PyPy**               | Интерпретатор   | Бинарные файлы  | `pypy myscript.py`       | Быстрее CPython, совместимость          | Ограниченная поддержка C-расширений      |
| **Cython**             | Язык/Компилятор | `pip install`   | `cythonize myscript.pyx` | Ускорение до 1000x, C-интеграция        | Требует компиляции, сложность типов      |
| **Jython**             | Интерпретатор   | Бинарные файлы  | `jython myscript.py`     | Java-интеграция, платформонезависимость | Только Python 2, ограниченные библиотеки |
| **C Интеграция**       | Расширения      | Python-dev, GCC | Python/C API             | Высокая производительность, библиотеки  | Сложность, отладка                       |
| **Rust Интеграция**    | Расширения      | Rust, PyO3      | `maturin init`           | Безопасность, производительность        | Крутой learning curve, размер файлов     |
| **Fortran Интеграция** | Расширения      | NumPy, gfortran | `f2py -c myscript.f90`   | Научные вычисления, библиотеки          | Сложный синтаксис, отладка               |


## 3. Примеры

Текст и скриншоты
